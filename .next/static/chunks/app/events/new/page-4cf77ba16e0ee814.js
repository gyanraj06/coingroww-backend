(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{9709:function(e,t,r){Promise.resolve().then(r.bind(r,2986))},2986:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),s=r(2265),a=r(6463),l=r(6881),i=r(518),o=r(4241),c=r(3274),d=r(9061),u=r(7138),m=r(4839),p=r(4659);function f(){let e=(0,a.useRouter)(),[t,r]=(0,s.useState)(!1),[f,g]=(0,s.useState)({title:"",summary:"",place:"",date:"",time:"",event_link:"",banner_image_url:"",logo_image_url:""}),h=e=>{let{name:t,value:r}=e.target;g(e=>({...e,[t]:r}))},x=async t=>{t.preventDefault(),r(!0);try{let t=new Date("".concat(f.date,"T").concat(f.time||"00:00")).toISOString(),{error:r}=await l.O.from("events").insert([{title:f.title,summary:f.summary,place:f.place,date:t,event_link:f.event_link,banner_image_url:f.banner_image_url,logo_image_url:f.logo_image_url}]);if(r)throw r;e.push("/events"),e.refresh()}catch(e){console.error("Error creating event:",e),alert("Error creating event. Please try again.")}finally{r(!1)}};return(0,n.jsxs)("div",{className:"space-y-8 max-w-5xl mx-auto animate-in fade-in duration-500",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(u.default,{href:"/events",className:"p-2 hover:bg-accent rounded-lg text-muted-foreground hover:text-foreground transition-colors",children:(0,n.jsx)(i.Z,{className:"w-5 h-5"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Create New Event"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-1",children:"Add a new event to the platform."})]})]}),(0,n.jsx)("form",{onSubmit:x,className:"space-y-8",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,n.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"title",className:"text-sm font-medium leading-none",children:"Event Title"}),(0,n.jsx)("input",{id:"title",name:"title",type:"text",required:!0,value:f.title,onChange:h,className:"flex h-12 w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",placeholder:"E.g. Crypto Summit 2024"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"summary",className:"text-sm font-medium leading-none",children:"Summary / Description"}),(0,n.jsx)("textarea",{id:"summary",name:"summary",rows:5,required:!0,value:f.summary,onChange:h,className:"flex min-h-[120px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",placeholder:"Describe enthusiasm, key speakers, topics..."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium leading-none",children:"Banner Image"}),(0,n.jsxs)("div",{className:"border border-border rounded-lg p-4 bg-card",children:[(0,n.jsx)(p.U,{value:f.banner_image_url,onChange:e=>g(t=>({...t,banner_image_url:e}))}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Recommended size: 1200x630px"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{className:"text-sm font-medium leading-none",children:"Event Logo"}),(0,n.jsxs)("div",{className:"border border-border rounded-lg p-4 bg-card",children:[(0,n.jsx)(p.U,{value:f.logo_image_url,onChange:e=>g(t=>({...t,logo_image_url:e}))}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Square image recommended (1:1)"})]})]})]}),(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"p-6 bg-card rounded-xl border border-border shadow-sm space-y-6",children:[(0,n.jsxs)("h3",{className:"font-semibold text-foreground border-b border-border pb-2 flex items-center gap-2",children:[(0,n.jsx)(o.Z,{className:"w-4 h-4"}),"Event Details"]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"date",className:"text-sm font-medium leading-none",children:"Date"}),(0,n.jsx)("input",{id:"date",name:"date",type:"date",required:!0,value:f.date,onChange:h,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"time",className:"text-sm font-medium leading-none",children:"Time"}),(0,n.jsx)("input",{id:"time",name:"time",type:"time",value:f.time,onChange:h,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"place",className:"text-sm font-medium leading-none",children:"Location / Place"}),(0,n.jsx)("input",{id:"place",name:"place",type:"text",value:f.place,onChange:h,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",placeholder:"City, Country or Online"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("label",{htmlFor:"event_link",className:"text-sm font-medium leading-none",children:"External Event Link"}),(0,n.jsx)("input",{id:"event_link",name:"event_link",type:"url",value:f.event_link,onChange:h,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",placeholder:"https://"})]}),(0,n.jsx)("button",{type:"submit",disabled:t,className:(0,m.W)("w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all shadow-sm mt-4",t?"bg-primary/50 cursor-not-allowed opacity-70":"bg-primary text-primary-foreground hover:bg-primary/90"),children:t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{className:"w-4 h-4 animate-spin"}),(0,n.jsx)("span",{children:"Saving..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{className:"w-4 h-4"}),(0,n.jsx)("span",{children:"Publish Event"})]})})]})})]})})]})}},4659:function(e,t,r){"use strict";r.d(t,{U:function(){return c}});var n=r(7437),s=r(2265),a=r(8184),l=r(7422),i=r(4697),o=r(6881);function c(e){let{value:t,onChange:r}=e,[c,d]=(0,s.useState)(t&&!t.includes("supabase.co")?"url":"upload"),[u,m]=(0,s.useState)(!1),[p,f]=(0,s.useState)(t),g=(0,s.useRef)(null),h=async e=>{if(!e.target.files||0===e.target.files.length)return;let t=e.target.files[0];if(t.size>2097152){alert("File size must be less than 2MB"),g.current&&(g.current.value="");return}let n=t.name.split(".").pop(),s="".concat(Math.random().toString(36).substring(2),".").concat(n),a="posts/".concat(s);try{m(!0);let{error:e}=await o.O.storage.from("images").upload(a,t);if(e)throw e;let{data:n}=o.O.storage.from("images").getPublicUrl(a),s=n.publicUrl;f(s),r(s)}catch(e){console.error("Error uploading image:",e),alert("Error uploading image. Please check your connection and try again.")}finally{m(!1)}};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-4 border-b border-border pb-2",children:[(0,n.jsxs)("button",{type:"button",onClick:()=>d("upload"),className:"flex items-center gap-2 text-sm font-medium pb-2 -mb-2.5 border-b-2 transition-colors ".concat("upload"===c?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[(0,n.jsx)(a.Z,{className:"w-4 h-4"}),"Upload Image"]}),(0,n.jsxs)("button",{type:"button",onClick:()=>d("url"),className:"flex items-center gap-2 text-sm font-medium pb-2 -mb-2.5 border-b-2 transition-colors ".concat("url"===c?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[(0,n.jsx)(l.Z,{className:"w-4 h-4"}),"Image URL"]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:["upload"===c?(0,n.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-8 hover:bg-accent/50 transition-colors cursor-pointer text-center",onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},children:[(0,n.jsx)("input",{type:"file",ref:g,onChange:h,accept:"image/*",className:"hidden",disabled:u}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[(0,n.jsx)("div",{className:"p-3 bg-secondary rounded-full",children:(0,n.jsx)(a.Z,{className:"w-6 h-6"})}),u?(0,n.jsx)("p",{className:"font-medium animate-pulse",children:"Uploading..."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"font-medium",children:"Click to upload image"}),(0,n.jsx)("p",{className:"text-xs",children:"SVG, PNG, JPG or GIF (max. 2MB)"})]})]})]}):(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(l.Z,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),(0,n.jsx)("input",{type:"url",placeholder:"https://example.com/image.jpg",value:p||"",onChange:e=>{let t=e.target.value;f(t),r(t)},className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 pl-9"})]})}),p&&(0,n.jsxs)("div",{className:"relative aspect-video w-full max-w-sm rounded-lg overflow-hidden border border-border bg-black/20",children:[(0,n.jsx)("img",{src:p,alt:"Preview",className:"w-full h-full object-cover",onError:e=>{e.target.src="https://placehold.co/600x400?text=Invalid+Image"}}),(0,n.jsx)("button",{type:"button",onClick:()=>{f(""),r(""),g.current&&(g.current.value="")},className:"absolute top-2 right-2 p-1.5 bg-black/60 text-white rounded-full hover:bg-destructive transition-colors backdrop-blur-sm",children:(0,n.jsx)(i.Z,{className:"w-4 h-4"})})]})]})]})}},6881:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});let n=(0,r(7327).eI)("https://tnzjanluwfnvatipplpp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRuemphbmx1d2ZudmF0aXBwbHBwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MDc0NzEsImV4cCI6MjA4NDM4MzQ3MX0.LUONR_PsrD5BmlO9b5j6120l0ffOdm_dEVWB189SRq4")},4241:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},518:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7422:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},3274:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9061:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8184:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4697:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(231),s=r.n(n)},6463:function(e,t,r){"use strict";var n=r(1169);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},4839:function(e,t,r){"use strict";function n(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n)}return s}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{W:function(){return n}})}},function(e){e.O(0,[883,231,971,23,744],function(){return e(e.s=9709)}),_N_E=e.O()}]);