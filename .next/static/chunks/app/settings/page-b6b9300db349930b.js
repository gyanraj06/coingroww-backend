(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{3995:function(e,r,t){Promise.resolve().then(t.bind(t,2143))},2143:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var s=t(7437),n=t(2265),i=t(4453);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,t(3480).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var a=t(3274),d=t(4839);function l(){let[e,r]=(0,n.useState)(""),[t,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[f,m]=(0,n.useState)(!1),[g,b]=(0,n.useState)(""),[p,h]=(0,n.useState)(!1),x=async s=>{if(s.preventDefault(),m(!0),b(""),h(!1),t!==c){b("New passwords do not match"),m(!1);return}if(t.length<6){b("Password must be at least 6 characters long"),m(!1);return}try{let s=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:e,newPassword:t})}),n=await s.json();if(!s.ok)throw Error(n.error||"Failed to change password");h(!0),r(""),l(""),u("")}catch(e){b(e.message)}finally{m(!1)}};return(0,s.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your account and preferences."})]}),(0,s.jsxs)("div",{className:"bg-card border border-border rounded-xl shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-border",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 text-primary"}),"Change Password"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Update your password to keep your account secure."})]}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4 max-w-md",children:[g&&(0,s.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-sm text-destructive font-medium",children:g}),p&&(0,s.jsxs)("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg text-sm text-green-500 font-medium flex items-center gap-2",children:[(0,s.jsx)(o,{className:"w-4 h-4"}),"Password updated successfully!"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none",children:"Current Password"}),(0,s.jsx)("input",{type:"password",value:e,onChange:e=>r(e.target.value),required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none",children:"New Password"}),(0,s.jsx)("input",{type:"password",value:t,onChange:e=>l(e.target.value),required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none",children:"Confirm New Password"}),(0,s.jsx)("input",{type:"password",value:c,onChange:e=>u(e.target.value),required:!0,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsxs)("button",{type:"submit",disabled:f,className:(0,d.W)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 w-full sm:w-auto",f&&"opacity-50"),children:[f&&(0,s.jsx)(a.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})})]})})]})]})}},3480:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var s=t(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(e,r)=>{let t=(0,s.forwardRef)((t,o)=>{let{color:a="currentColor",size:d=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:f,...m}=t;return(0,s.createElement)("svg",{ref:o,...n,width:d,height:d,stroke:a,strokeWidth:c?24*Number(l)/Number(d):l,className:["lucide","lucide-".concat(i(e)),u].join(" "),...m},[...r.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(f)?f:[f]])});return t.displayName="".concat(e),t}},3274:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(3480).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4453:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(3480).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},4839:function(e,r,t){"use strict";function s(){for(var e,r,t=0,s="",n=arguments.length;t<n;t++)(e=arguments[t])&&(r=function e(r){var t,s,n="";if("string"==typeof r||"number"==typeof r)n+=r;else if("object"==typeof r){if(Array.isArray(r)){var i=r.length;for(t=0;t<i;t++)r[t]&&(s=e(r[t]))&&(n&&(n+=" "),n+=s)}else for(s in r)r[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=r);return s}t.d(r,{W:function(){return s}})}},function(e){e.O(0,[971,23,744],function(){return e(e.s=3995)}),_N_E=e.O()}]);