(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{191:function(e,t,r){Promise.resolve().then(r.bind(r,4428)),Promise.resolve().then(r.t.bind(r,231,23))},4428:function(e,t,r){"use strict";r.d(t,{PostActions:function(){return u}});var o=r(7437),n=r(6463),s=r(6881),a=r(3480);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),d=(0,a.Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),c=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var l=r(2265);function u(e){let{postId:t,postSlug:r}=e,a=(0,n.useRouter)(),[u,p]=(0,l.useState)(!1),h=async()=>{if(confirm("Are you sure you want to delete this post? This action cannot be undone.")){p(!0);try{let{error:e}=await s.O.from("posts").delete().eq("id",t);if(e){console.error("Supabase delete error:",e),alert("Failed to delete: ".concat(e.message));return}a.refresh()}catch(t){console.error("Error deleting post:",t);let e=t instanceof Error?t.message:"Unknown error";alert("Failed to delete post: ".concat(e))}finally{p(!1)}}};return(0,o.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,o.jsx)("button",{onClick:()=>{window.open("http://localhost:3000/post/".concat(t),"_blank")},className:"p-2 hover:bg-background rounded-md text-muted-foreground hover:text-foreground transition-colors border border-transparent hover:border-border",title:"View on site",children:(0,o.jsx)(i,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:()=>{a.push("/posts/".concat(t,"/edit"))},className:"p-2 hover:bg-background rounded-md text-muted-foreground hover:text-blue-500 transition-colors border border-transparent hover:border-border",title:"Edit post",children:(0,o.jsx)(d,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:h,disabled:u,className:"p-2 hover:bg-background rounded-md text-muted-foreground hover:text-destructive transition-colors border border-transparent hover:border-border disabled:opacity-50",title:"Delete post",children:(0,o.jsx)(c,{className:"w-4 h-4 ".concat(u?"animate-pulse":"")})})]})}},6881:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});let o=(0,r(7327).eI)("https://tnzjanluwfnvatipplpp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRuemphbmx1d2ZudmF0aXBwbHBwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MDc0NzEsImV4cCI6MjA4NDM4MzQ3MX0.LUONR_PsrD5BmlO9b5j6120l0ffOdm_dEVWB189SRq4")}},function(e){e.O(0,[308,231,971,23,744],function(){return e(e.s=191)}),_N_E=e.O()}]);